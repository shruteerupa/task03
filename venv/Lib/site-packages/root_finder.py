#!/usr/bin/env python3
"""root_finder"""
__author__ = "Stephen Whitlock"
__copyright__ = "Copyright 2019, Stephen Whitlock"
__license__ = "MIT"
__version__ = "1.0.1"
__maintainer__ = "Stephen Whitlock"
__email__ = "stephen@jshwisolutions.com"
__status__ = "Production"
from os import path, listdir


def get_project_root(repo: str, here: str = path.abspath(".")) -> str:
    """This will attempt to find the root dir of your repo starting with
    the absolute path of the dir you are currently in
    To still allow you to name subdirs the same as the repo the script
    will return the directory once it has found the named dir and is
    within a dir not equal to the parameter
    The script will continue to loop until this criteria is met, or
    until it reaches root - where it will raise a FileNotFoundError

    :param repo:    The name of your repository
    :param here:    The path you are currently in, or relative to
                    entered path
    :return:        The full path of your repo within your system
    """
    while True:
        this = listdir(here)
        if repo in this and repo != path.basename(here):
            return path.join(here, repo)
        elif here == "/":
            raise FileNotFoundError(repo)
        else:
            here = path.dirname(here)
